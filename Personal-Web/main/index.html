<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fred的廢文放置場</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">
            <a href="index.html" style="color: white; text-decoration: none;">Fred的小站</a>
        </div>
        <button class="menu-toggle">
            <i class="fas fa-bars"></i>
        </button>
        <ul class="nav-links">
          <!-- <li><a href="../blog/post.html">Blog</a></li> -->
        </ul>
    </nav>

    <main class="container">
        <section class="hero animate-on-scroll">
            <h1>歡迎來到Fred的小站</h1>
            <p><strong>Vanitas vanitatum, et omnia vanitas.</strong></section></p>
        </section>

        <section class="about-section animate-on-scroll">
            <h1>關於我</h1>
            <div class="profile">
                <img src="../images/profile.jpg" alt="個人照片" class="profile-image">
                <div class="profile-info">
                    <h2>Fred Hoi</h2>
                    <p>普通的澳門中學生一枚。</p>
                    <p>學習方向：<strong>信奧、化奧、數奧</strong></p>
                    <p>興趣：<strong>數學、化學、資訊科技、二次元<br>是個宅宅。</strong></p>
                    <p>目標SJTU EE</p>
                    <p>ㄌㄌ賽高！</p>
                </div>
            </div>
        </section>

        <section id="achievements" class="recent-achievements animate-on-scroll">
            <h2>最近比賽成績</h2>
            <div class="achievements-grid" id="achievements-list">
                <!-- 比賽成績將由JavaScript動態載入 -->
            </div>
            <div class="view-all">
                <button class="view-all-btn" id="view-all-btn" onclick="toggleAchievementsView()">查看所有比賽成績</button>
            </div>
        </section>

        <!--<section class="recent-blogs animate-on-scroll">
            <h2>最新網誌</h2>
            <div id="blog-list">
                 網誌列表將由JavaScript動態載入
            </div>
        </section>-->
    </main>

    <footer>
        <p>&copy; 2025 Fred Hoi. All rights reserved.</p>
    </footer>

    <div class="social-buttons">
        <a href="https://github.com/fredhoi" class="social-button" title="GitHub">
            <i class="fab fa-github"></i>
       <!-- </a>
        <a href="#" class="social-button" title="Instagram">
            <i class="fab fa-instagram"></i>
        </a>-->
    </div>

    <script src="../js/achievements.js"></script>
    <script src="../js/blog.js"></script>
    <script src="../js/scroll-animation.js"></script>
    <script>
        document.querySelector('.menu-toggle').addEventListener('click', function() {
            document.querySelector('.nav-links').classList.toggle('active');
        });

        // 頁面加載時初始化成績顯示
        document.addEventListener('DOMContentLoaded', function() {
            loadAchievements();
        });

        // 全局變數來跟踪顯示模式
        let showAllAchievements = false;

        function toggleAchievementsView() {
            showAllAchievements = !showAllAchievements;
            const btn = document.getElementById('view-all-btn');
            const achievementsSection = document.getElementById('achievements');
            const titleElement = achievementsSection.querySelector('h2');

            // 更新按鈕文本
            btn.textContent = showAllAchievements ? '只顯示最近成績' : '查看所有比賽成績';

            // 更新標題
            titleElement.textContent = showAllAchievements ? '所有比賽成績' : '最近比賽成績';

            // 重新載入成績
            loadAchievements();

            // 滾動到成績區域
            if (achievementsSection) {
                achievementsSection.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function loadAchievements() {
            const achievementsContainer = document.getElementById('achievements-list');

            if (!achievementsContainer) return;

            // 清空容器
            achievementsContainer.innerHTML = '';

            if (showAllAchievements) {
                // 切換容器為年分列表模式，讓每個年份區塊垂直排列
                achievementsContainer.classList.remove('achievements-grid');
                achievementsContainer.classList.add('year-list');

                // 按年份分組成績
                const achievementsByYear = {};
                achievements.forEach(achievement => {
                    if (!achievementsByYear[achievement.year]) {
                        achievementsByYear[achievement.year] = [];
                    }
                    achievementsByYear[achievement.year].push(achievement);
                });

                // 按年份順序顯示成績（年分區塊由上到下）
                Object.keys(achievementsByYear).sort((a, b) => b - a).forEach(year => {
                    const yearSection = document.createElement('div');
                    yearSection.className = 'year-section';

                    yearSection.innerHTML = `<h3 class="year-title">${year}年</h3>`;

                    // 內部的成績網格（每行最多3個）
                    const innerGrid = document.createElement('div');
                    innerGrid.className = 'achievements-grid';

                    achievementsByYear[year].forEach(achievement => {
                        const card = document.createElement('div');
                        card.className = `achievement-card ${achievement.type}`;

                        card.innerHTML = `
                            <div class="achievement-date">${achievement.date}</div>
                            <h4 class="achievement-title">${achievement.title}</h4>
                            <div class="achievement-content">
                                <p class="achievement-score">${achievement.score}</p>
                            </div>
                        `;

                        innerGrid.appendChild(card);
                    });

                    yearSection.appendChild(innerGrid);
                    achievementsContainer.appendChild(yearSection);
                });
            } else {
                // 恢復容器為網格模式（顯示最近幾項）
                achievementsContainer.classList.add('achievements-grid');
                achievementsContainer.classList.remove('year-list');

                // 只顯示最近的成績
                const recentAchievements = achievements.slice(0, 5);

                recentAchievements.forEach(achievement => {
                    const card = document.createElement('div');
                    card.className = `achievement-card ${achievement.type}`;

                    card.innerHTML = `
                        <div class="achievement-date">${achievement.date}</div>
                        <h4 class="achievement-title">${achievement.title}</h4>
                        <div class="achievement-content">
                            <p class="achievement-score">${achievement.score}</p>
                        </div>
                    `;

                    achievementsContainer.appendChild(card);
                });
            }
        }
    </script>
</body>
</html> 